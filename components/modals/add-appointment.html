<div class="modal-overlay" id="addAppointmentModal">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Add New Appointment</h2>
      <button class="close-btn" onclick="closeAddAppointmentModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="modal-body">
      <form id="appointmentForm">

        <!-- Patient Name Fields -->
        <div class="form-group">
          <label>First Name <span class="required">*</span></label>
          <input type="text" id="firstname" name="firstname" placeholder="Juan" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Middle Name</label>
            <input type="text" id="middlename" name="middlename" placeholder="Dela">
          </div>
          <div class="form-group">
            <label>Last Name <span class="required">*</span></label>
            <input type="text" id="lastname" name="lastname" placeholder="Cruz" required>
          </div>
        </div>

        <div class="form-group">
          <label>Suffix</label>
          <input type="text" id="suffix" name="suffix" placeholder="Jr / Sr / III" maxlength="10">
        </div>

        <!-- Contact (helps with matching existing patients) -->
        <div class="form-row">
          <div class="form-group">
            <label>Phone Number</label>
            <input type="tel" id="phone" name="phone" placeholder="09123456789">
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" id="email" name="email" placeholder="patient@example.com">
          </div>
        </div>

        <!-- Appointment Details -->
        <div class="form-row">
          <div class="form-group">
            <label>Date <span class="required">*</span></label>
            <input type="date" id="appointmentDate" name="appointment_date" required>
          </div>
          <div class="form-group">
            <label>Time <span class="required">*</span></label>
            <input type="time" id="appointmentTime" name="appointment_time" required step="1800">
          </div>
        </div>

        <div class="form-group">
          <label>Service <span class="required">*</span></label>
          <select id="service" name="service" required>
            <option value="">Select service</option>
            <option value="Comprehensive Eye Exam">Comprehensive Eye Exam</option>
            <option value="Glasses Pickup / Fitting">Glasses Pickup / Fitting</option>
            <option value="Contact Lens Fitting">Contact Lens Fitting</option>
            <option value="Frame Selection">Frame Selection</option>
            <option value="Follow-up">Follow-up</option>
          </select>
        </div>

        <!-- Conflict Warning -->
        <div id="conflictWarning" class="conflict-warning hidden">
          <strong>Warning:</strong> This exact date and time is already booked.<br>
          Please choose a different time.
        </div>

        <!-- Notes -->
        <div class="form-group">
          <label>Notes</label>
          <textarea id="notes" name="notes" placeholder="Any additional notes..."></textarea>
        </div>

      </form>
    </div>

    <div class="modal-footer">
      <button class="btn btn-cancel" onclick="closeAddAppointmentModal()">Cancel</button>
      <button class="btn btn-primary" onclick="saveAppointment()">Save Appointment</button>
    </div>
  </div>
</div>